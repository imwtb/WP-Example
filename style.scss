/*
Theme Name: example
Theme URI: https://example.cn
Author: example
Author URI: https://example.cn
Description: example
Version: 1.0
License: GNU General Public License v2 or later
License URI: http://www.gnu.org/licenses/gpl-2.0.html
Text Domain: imwtb
Tags: example
*/

@function toRem($px) {
  @return $px / 16px * 1rem;
}

@function toRemF($px) {
  @return (-($px / 16px * 1rem));
}

$max1920: toRem(1920px);
$max1600: toRem(1600px);
$max1200: toRem(1200px);
$max960: toRem(960px);
$max768: toRem(768px);
$max576: toRem(576px);

$green: #21cc55;
$yellow: #ffd000;
$purple: #e938c3;
$red: #e93838;
$base: #3858e9;
$black: #1e1e1e;
$white: #ffffff;

/*------------------------------ 重置 ------------------------------*/
*,
*:before,
*:after {
  box-sizing: inherit;
  margin: 0;
  padding: 0;
}

:root {
  position: relative;
  font-family: -apple-system, 'Helvetica Neue', Helvetica, 'Nimbus Sans L', Arial, 'Liberation Sans', 'PingFang SC', 'Hiragino Sans GB',
    'Source Han Sans CN', 'Source Han Sans SC', 'Microsoft YaHei', 'Wenquanyi Micro Hei', 'WenQuanYi Zen Hei', 'ST Heiti', SimHei,
    'WenQuanYi Zen Hei Sharp', sans-serif;
  min-height: 100%;
  box-sizing: border-box;
  text-size-adjust: none;
}

input,
textarea,
button {
  font-size: inherit;
  font-family: inherit;
}

body {
  position: relative;
  height: 100%;
  min-height: 100vh;
  font-size: 100%;
  color: $black;
  line-height: 1.5;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  line-height: 1.35;
}

h3 {
  font-size: 1.125em;
}

h5 {
  font-size: .875em;
}

a {
  text-decoration: none;
}

img {
  max-width: 100%;
  max-height: 100%;
  height: auto;
  image-rendering: crisp-edges;
}

video,
iframe {
  width: 100%;
  aspect-ratio: 16/9;
}

a,
img,
video,
iframe,
input,
textarea,
select,
button {
  vertical-align: middle;
}

a,
input,
textarea,
select,
button {
  outline-color: transparent;
  transition: color .3s ease-in-out, background .3s ease-in-out, border .3s ease-in-out, outline .3s ease-in-out;

  &:focus {
    outline-color: $base;
  }
}

input:not([type="color"], [type="file"]),
textarea,
select,
button {
  padding: toRem(10px);
}

input:not([type="color"], [type="image"], [type="file"]),
textarea,
select {
  border: toRem(1px) solid rgba($black, .3);
  border-radius: toRem(8px);

  &::placeholder {
    color: rgba($black, .5);
  }
}

input {

  &[type="submit"],
  &[type="reset"],
  &[type="button"] {
    color: $white;
    background: $base;
    border: none;
    cursor: pointer;

    &:hover {
      background: $black;
    }
  }

  &[type="submit"],
  &[type="reset"] {
    padding-left: toRem(16px);
    padding-right: toRem(16px);
  }
}

button {
  background: transparent;
  border: none;
  cursor: pointer;
}

/*------------------------------ 基本 ------------------------------*/
body {
  display: flex;
  flex-direction: column;

  &.active {
    overflow: hidden;
  }
}

main {
  flex-grow: 1;
}

.heading,
.fooing {
  background: rgba($black, .05);

  &__max {
    padding: toRem(8px) 0;
  }
}

.maing__max {
  padding: toRem(32px) 0;
}

.max {

  &__1200,
  &__960,
  &__768,
  &__576 {
    margin: 0 3vw;
  }

  @media screen and (min-width: #{$max1200}) {
    &__1200 {
      max-width: $max1200;
      margin: 0 auto;
    }
  }

  @media screen and (min-width: #{$max960}) {
    &__960 {
      max-width: $max960;
      margin: 0 auto;
    }
  }

  @media screen and (min-width: #{$max768}) {
    &__768 {
      max-width: $max768;
      margin: 0 auto;
    }
  }

  @media screen and (min-width: #{$max576}) {
    &__576 {
      max-width: $max576;
      margin: 0 auto;
    }
  }
}

.layout {
  display: flex;
  flex-wrap: wrap;
  gap: toRem(32px);

  &__center {
    flex: 1;
  }

  &__right {
    flex: 0 1 100%;
    background: rgba($black, .1);
  }

  @media screen and (min-width: #{$max1200}) {
    &__right {
      flex: 0 1 toRem(400px);
    }
  }
}

.sticky {

  &__left,
  &__right {
    height: auto !important;
    will-change: min-height;
  }
}

.inner-wrapper-sticky {
  transform: translate(0, 0);
  transform: translate3d(0, 0, 0);
  will-change: position, transform;
}

/*------------------------------ 头部 ------------------------------*/
.heading {
  &__max {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
}

.topnav > ul {
  display: flex;
  align-items: center;
  gap: toRem(32px);

  li {
    list-style: none;
    display: inline-block;
  }
}

/*------------------------------ 文章内容页 ------------------------------*/
.post {

  &__title,
  &__meta,
  &__excerpt {
    margin-bottom: toRem(16px);
  }

  &__meta {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: toRem(8px) toRem(16px);

    a,
    time,
    span {
      display: inline-flex;
      align-items: center;
      gap: toRem(4px);
      font-size: .875em;

      i {
        font-size: 1em;
      }
    }
  }

  &__excerpt {
    padding: toRem(8px) toRem(16px);
    font-size: .75em;
    color: rgba($black, .5);
    background: rgba($black, .05);
    border-radius: toRem(8px);
  }

  &__content,
  &__catag,
  &__precnext {
    margin-bottom: toRem(32px);
  }

  &__content {
    line-height: 1.8;

    p {
      margin: toRem(8px) 0;
    }
  }

  &__catag a {
    display: inline-block;
    margin: 0 toRem(8px) toRem(8px) 0;
    padding: toRem(4px) toRem(8px);
    font-size: .875em;
    color: rgba($black, .5);
    background: rgba($black, .05);
  }
}

/*------------------------------ 侧面 ------------------------------*/
.widget {
  &:not(:last-child) {
    margin-bottom: toRem(32px);
  }

  ul {
    list-style: none;
  }
}

/*------------------------------ 底部 ------------------------------*/
.fooing {
  &__max {
    text-align: center;
  }

  &__copyright {
    font-size: .875em;
    color: rgba($black, .5);

    a {
      color: rgba($black, .7);
    }
  }
}

.bottomnav ul li {
  display: inline-block;
  list-style: none;
}


/*------------------------------ 评论 ------------------------------*/
.comment {
  &__title {
    margin-bottom: toRem(16px);

    small {
      margin-left: toRem(8px);
    }
  }

  &__respond {
    margin-bottom: toRem(32px);
  }

  &__form {
    display: flex;
    flex-wrap: wrap;
    gap: toRem(16px) toRem(8px);
  }

  &__notes,
  &__comment,
  &__author,
  &__email,
  &__url,
  &__cookies,
  &__submit {
    flex: 0 1 100%;
  }

  &__comment,
  &__author,
  &__email,
  &__url {

    textarea,
    input {
      width: 100%;
    }
  }

  &__comment textarea {
    min-height: toRem(128px);
  }

  &__mustlogin,
  &__notes,
  &__loggedinas,
  &__cookies label {
    font-size: .875em;
    color: rgba($black, .7);
  }

  &__notes span {
    color: $red;
  }

  &__cookies label {
    display: flex;
    align-items: center;
    gap: toRem(4px);
    cursor: pointer;

    input {
      transform: translateY(toRemF(1px));
    }

    a {
      color: $base;
    }
  }

  &__submit input {
    font-size: .875em;
  }

  @media screen and (min-width: #{$max576}) {

    &__author,
    &__email,
    &__url {
      flex: 1;
    }
  }

  &__list {
    list-style: none;
  }

  &__body {
    display: flex;
    align-items: flex-start;
    gap: toRem(8px);
  }

  &__vcard {
    flex: 0 1 toRem(30px);
    overflow: hidden;
    border-radius: toRem(100px);
  }

  &__box {
    flex: 1;
  }

  &__head a {
    font-size: .875em;
    color: rgba($black, .7);
  }

  &__foo {

    > a,
    > time,
    > span {
      margin-right: toRem(8px);
      font-size: .75em;
      color: rgba($black, .5);
    }

    span a {
      padding: toRem(4px) toRem(8px);
      color: rgba($base, .7);
      background: rgba($base, .1);
      border-radius: toRem(8px);

      &:hover {
        color: $base;
      }
    }
  }

  &__content {
    margin: toRem(8px) 0;
  }

  &__awaiting {
    display: block;
    margin-bottom: toRem(8px);
    padding: toRem(4px) toRem(8px);
    font-size: .875em;
    color: rgba($red, .7);
    background: rgba($red, .1);
    border-radius: toRem(8px);
  }

  @media screen and (min-width: #{$max576}) {
    &__vcard {
      flex: 0 1 toRem(40px);
    }
  }
}

/*------------------------------ 数字分页 ------------------------------*/
.navigation {
  margin-top: toRem(32px);

  .nav-links {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: toRem(8px);

    a,
    span {
      padding: toRem(8px) toRem(13.55px);
      color: rgba($black, .5);
      line-height: 1.25;
      background: rgba($black, .05);
      border-radius: toRem(8px);
    }

    a:hover,
    .current {
      color: $white;
      background: $base;
    }
  }
}

/*------------------------------ 搜索表单 ------------------------------*/
.search {
  &__form {
    display: flex;
    align-items: center;
    position: relative;

    label {
      display: none;
    }

    input {
      flex: 1;

      &:focus ~ button {
        color: $base;
      }
    }

    button {
      position: absolute;
      right: 0;
      z-index: 5;
      font-size: 1.75em;
      color: rgba($black, .5);
    }
  }
}

/*------------------------------ 面包屑 ------------------------------*/
.breadcrumbs {
  padding: toRem(8px);

  ol {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: toRem(4px);

    li {
      list-style: none;

      &:nth-of-type(n+2)::before {
        content: ">";
        margin-right: toRem(4px);
      }

      a:hover {
        color: $base;
      }
    }

    li,
    li a {
      font-size: .875em;
      color: rgba($black, .5);
    }
  }
}

/*------------------------------ 跳到内容 ------------------------------*/
.screen-reader-text {
  position: absolute !important;
  width: toRem(1px);
  height: toRem(1px);
  overflow: hidden;
  border: 0;
  outline: 0;
  word-wrap: normal !important;
  word-break: normal;
  clip: rect(toRem(1px), toRem(1px), toRem(1px), toRem(1px));
  clip-path: inset(50%);
}

.skip-link:focus {
  display: block;
  top: toRem(16px);
  left: toRem(16px);
  z-index: 100000;
  width: auto;
  height: auto;
  padding: toRem(8px) toRem(24px);
  font-size: .875rem;
  color: $white;
  font-weight: 700;
  line-height: normal;
  background-color: $base;
  border-radius: toRem(100px);
  clip: auto !important;
  clip-path: none;
}

/*------------------------------ 滚动条 ------------------------------*/
::-webkit-scrollbar {
  width: toRem(8px);
  height: toRem(4px);
  background: transparent;
}

::-webkit-scrollbar-corner,
::-webkit-scrollbar-track {
  background: rgba($black, .1);
  border-radius: toRem(100px);
}

::-webkit-scrollbar-thumb {
  background: $base;
  border-radius: toRem(100px);
}